---
// Navbar minimalista fija - Logo, Menú, Contacto, Reservar
const whatsappNumber = "59178555886"; // Número de WhatsApp con código de país
const whatsappMessage = encodeURIComponent(
  "Hola! Me gustaría hacer una reserva en Brasargent Rodizio",
);
---

<nav
  id="navbar"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 backdrop-blur-md bg-black/30"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      <!-- Logo a la izquierda con margen -->
      <a href="/" class="flex items-center group ml-8">
        <img
          src="/img/logo/logo-SF.png"
          alt="Brasargent Rodizio Logo"
          class="h-24 w-auto object-contain"
        />
      </a>

      <!-- Todos los botones a la derecha (Desktop) -->
      <div class="hidden md:flex items-center gap-8">
        <a
          href="#inicio"
          class="nav-link text-white hover:text-[#d4af37] transition-colors font-medium"
        >
          Inicio
        </a>
        <a
          href="#menu"
          class="nav-link text-white hover:text-[#d4af37] transition-colors font-medium"
        >
          Menú
        </a>
        <a
          href="#contacto"
          class="nav-link text-white hover:text-[#d4af37] transition-colors font-medium"
        >
          Contacto
        </a>
        <a
          href={`https://wa.me/${whatsappNumber}?text=${whatsappMessage}`}
          target="_blank"
          rel="noopener noreferrer"
          class="bg-gradient-to-r from-[#9e2a2b] to-[#d4af37] text-white px-6 py-2 rounded-full font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300"
        >
          Reservar Mesa
        </a>
      </div>

      <!-- Botón menú móvil -->
      <button
        id="mobile-menu-btn"
        class="md:hidden text-white p-2 hover:text-[#d4af37] transition-colors"
        aria-label="Abrir menú"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Menú móvil -->
  <div
    id="mobile-menu"
    class="hidden md:hidden bg-[#1a1a1a] border-t border-[#d4a574]/20"
  >
    <div class="px-4 py-4 space-y-3">
      <a
        href="#inicio"
        class="block text-white hover:text-[#d4af37] transition-colors font-medium py-2"
      >
        Inicio
      </a>
      <a
        href="#menu"
        class="block text-white hover:text-[#d4af37] transition-colors font-medium py-2"
      >
        Menú
      </a>
      <a
        href="#contacto"
        class="block text-white hover:text-[#d4af37] transition-colors font-medium py-2"
      >
        Contacto
      </a>
    </div>
  </div>
</nav>

<!-- Espaciador para compensar navbar fija -->
<div class="h-20"></div>

<script>
  // Toggle menú móvil
  const mobileMenuBtn = document.getElementById("mobile-menu-btn");
  const mobileMenu = document.getElementById("mobile-menu");
  const navbar = document.getElementById("navbar");

  mobileMenuBtn?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
  });

  // Cerrar menú móvil al hacer clic en un enlace
  const mobileLinks = mobileMenu?.querySelectorAll("a");
  mobileLinks?.forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu?.classList.add("hidden");
    });
  });

  // Cambiar fondo del navbar y color de letras al hacer scroll
  const navLinks = document.querySelectorAll(".nav-link");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      // Scroll hacia abajo: plomo claro con blur y letras negras
      navbar?.classList.remove("bg-black/30");
      navbar?.classList.add("bg-gray-200/95", "shadow-lg");

      // Cambiar letras a negro
      navLinks.forEach((link) => {
        link.classList.remove("text-white");
        link.classList.add("text-black");
      });
    } else {
      // Arriba: transparente con blur y letras blancas
      navbar?.classList.add("bg-black/30");
      navbar?.classList.remove("bg-gray-200/95", "shadow-lg");

      // Cambiar letras a blanco
      navLinks.forEach((link) => {
        link.classList.add("text-white");
        link.classList.remove("text-black");
      });
    }
  });

  // Smooth scroll para todos los enlaces con #
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", (e) => {
      const href = (anchor as HTMLAnchorElement).getAttribute("href");
      if (href && href !== "#") {
        e.preventDefault();
        const target = document.querySelector(href);
        if (target) {
          target.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      }
    });
  });
</script>
